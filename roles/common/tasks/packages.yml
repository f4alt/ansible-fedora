---
# Update and upgrade system packages
- name: Update and upgrade all packages
  become: true
  dnf:
    name: "*"
    state: latest
    update_cache: yes
  notify: Reboot System

# remove initial bloat
- name: Remove non-essential packages
  become: true
  package:
    name:
      - Box2D.x86_64
      - ImageMagick.x86_64
      - ImageMagick-libs.x86_64
      - LibRaw.x86_64
      - NetworkManager-l2tp.x86_64
      - NetworkManager-libreswan.x86_64
      - NetworkManager-openconnect.x86_64
      - NetworkManager-openvpn.x86_64
      - NetworkManager-pptp.x86_64
      - NetworkManager-vpnc.x86_64
      - SDL2.x86_64
      - SDL_image.x86_64
      - aajohan-comfortaa-fonts.noarch
      - abattis-cantarell-fonts.noarch
      - abrt.x86_64
      - abrt-addon-ccpp.x86_64
      - abrt-addon-kerneloops.x86_64
      - abrt-addon-pstoreoops.x86_64
      - abrt-addon-vmcore.x86_64
      - abrt-addon-xorg.x86_64
      - abrt-cli.x86_64
      - abrt-dbus.x86_64
      - abrt-desktop.x86_64
      - abrt-gui.x86_64
      - abrt-gui-libs.x86_64
      - abrt-plugin-bodhi.x86_64
      - abrt-tui.noarch
      - adobe-mappings-cmap.noarch
      - adobe-mappings-cmap-deprecated.noarch
      - adobe-mappings-pdf.noarch
      - adobe-source-code-pro-fonts.noarch
      - aha.x86_64
      - anaconda.x86_64
      - anaconda-core.x86_64
      - anaconda-gui.x86_64
      - anaconda-install-env-deps.x86_64
      - anaconda-live.noarch
      - anaconda-tui.x86_64
      - anaconda-widgets.x86_64
      - ansible.noarch
      - ansible-core.noarch
      - antiword.x86_64
      - autocorr-en.noarch
      - avahi.x86_64
      - avahi-glib.x86_64
      - avahi-gobject.x86_64
      - b43-fwcutter.x86_64
      - b43-openfwwf.noarch
      - bluez-cups.x86_64
      - braille-printer-app.x86_64
      - cryfs.x86_64
      - cups.x86_64
      - cups-browsed.x86_64
      - cups-filters.x86_64
      - cups-filters-driverless.x86_64
      - cups-ipptool.x86_64
      - cups-pk-helper.x86_64
      - cyrus-sasl-md5.x86_64
      - cyrus-sasl-plain.x86_64
      - deltarpm.x86_64
      - desktop-backgrounds-compat.noarch
      - dragon.x86_64
      - elisa-player.x86_64
      - ffmpeg-free.x86_64
      - ffmpegthumbs.x86_64
      - filelight.x86_64
      - flashrom.x86_64
      - freecell-solver-data.noarch
      - geoclue2.x86_64
      - gnome-abrt.x86_64
      - hfsplus-tools.x86_64
      - hfsutils.x86_64
      - ibus-anthy.x86_64
      - ibus-anthy-python.noarch
      - ibus-hangul.x86_64
      - ibus-libpinyin.x86_64
      - ibus-libzhuyin.x86_64
      - ibus-m17n.x86_64
      - ibus-typing-booster.noarch
      - initial-setup.x86_64
      - initial-setup-gui.x86_64
      - initial-setup-gui-wayland-plasma.noarch
      - jfsutils.x86_64
      - jomolhari-fonts.noarch
      - jq.x86_64
      - kasumi-common.noarch
      - kasumi-unicode.x86_64
      - kde-inotify-survey.x86_64
      - kamoso.x86_64
      - kgpg.x86_64
      - man-db.x86_64
      - man-pages.noarch
      - nano.x86_64
      - orca.noarch
      - pinfo.x86_64
      - spice-vdagent.x86_64
      - vlc-libs.x86_64
    state: absent

# Install basic utilities
- name: Install basic utilities
  dnf:
    name:
      - xclip
      - tmux
      - zoxide
      - neovim
      - cmake
      - make
      - g++
      - gcc
      - kvantum
      - qt5-qttools
      - nautilus
      - sassc
    state: present
